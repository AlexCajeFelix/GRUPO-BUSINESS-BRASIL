# üöÄ API de Cadastro de Usu√°rios - Grupo Business Brasil

Uma API REST robusta desenvolvida em **Java Spring Boot** para o desafio t√©cnico do Grupo Business Brasil, implementando opera√ß√µes CRUD completas para gerenciamento de usu√°rios com **arquitetura h√≠brida MVC + DDD** e padr√µes de qualidade enterprise.

## üìã √çndice

- [Vis√£o Geral](#-vis√£o-geral)
- [Arquitetura](#-arquitetura)
- [Tecnologias](#-tecnologias)
- [Estrutura do Projeto](#-estrutura-do-projeto)
- [Banco de Dados](#-banco-de-dados)
- [Endpoints](#-endpoints)
- [Tratamento de Erros](#-tratamento-de-erros)
- [Instala√ß√£o e Execu√ß√£o](#-instala√ß√£o-e-execu√ß√£o)
- [Docker](#-docker)
- [Testes](#-testes)
- [Documenta√ß√£o da API](#-documenta√ß√£o-da-api)
- [Diagramas](#-diagramas)

## üéØ Vis√£o Geral

Esta API implementa um sistema completo de cadastro de usu√°rios seguindo os princ√≠pios REST e padr√µes de arquitetura enterprise. O projeto foi desenvolvido com foco em **escalabilidade**, **manutenibilidade** e **qualidade de c√≥digo**.

### Funcionalidades Principais

- ‚úÖ **Cadastrar usu√°rio** - `POST /users`
- ‚úÖ **Listar usu√°rios** - `GET /users` (com pagina√ß√£o)
- ‚úÖ **Buscar usu√°rio por ID** - `GET /users/{id}`
- ‚úÖ **Atualizar usu√°rio** - `PUT /users/{id}`
- ‚úÖ **Soft delete** - `DELETE /users/{id}`
- ‚úÖ **Busca avan√ßada** - `POST /users/search`
- ‚úÖ **Valida√ß√£o robusta** com padr√£o Notification
- ‚úÖ **Factory Methods** para cria√ß√£o de entidades
- ‚úÖ **Auditoria completa** (LGPD compliant)
- ‚úÖ **Tratamento de erros** centralizado

## üèóÔ∏è Arquitetura

### Decis√µes Arquiteturais

Este projeto implementa uma **arquitetura h√≠brida** que combina **MVC** com **princ√≠pios DDD (Domain-Driven Design)**:

#### **MVC como Base:**
- **Controller** - Camada de apresenta√ß√£o (REST endpoints)
- **Service** - Camada de aplica√ß√£o (casos de uso)
- **Repository** - Camada de infraestrutura (acesso a dados)

#### **DDD para Dom√≠nio:**
- **Domain Layer** - Entidades ricas com regras de neg√≥cio
- **Factory Methods** - Cria√ß√£o controlada de entidades
- **Notification Pattern** - Agrega√ß√£o de erros de valida√ß√£o
- **Domain Exceptions** - Exce√ß√µes espec√≠ficas do dom√≠nio

### Camadas da Aplica√ß√£o

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Controller               ‚îÇ ‚Üê Camada de apresenta√ß√£o
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ           Service                  ‚îÇ ‚Üê Camada de aplica√ß√£o
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ           Domain                   ‚îÇ ‚Üê Camada de dom√≠nio (DDD)
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
‚îÇ  ‚îÇ User (Entity + Factory)        ‚îÇ‚îÇ
‚îÇ  ‚îÇ UserValidator                   ‚îÇ‚îÇ
‚îÇ  ‚îÇ Notification                    ‚îÇ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ           Repository               ‚îÇ ‚Üê Camada de infraestrutura
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ           Database                 ‚îÇ ‚Üê Banco de dados (H2)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üõ†Ô∏è Tecnologias

### Backend
- **Java 17** - Linguagem principal
- **Spring Boot 3.x** - Framework principal
- **Spring Web** - Servidor web e REST APIs
- **Spring Data JPA** - ORM e acesso a dados
- **H2 Database** - Banco em mem√≥ria
- **Flyway** - Migra√ß√£o de banco de dados
- **Docker** - Containeriza√ß√£o

### Testes
- **JUnit 5** - Framework de testes
- **Mockito** - Mocking de depend√™ncias
- **TestContainers** - Testes de integra√ß√£o

### DevOps
- **GitHub Actions** - CI Pipeline
- **Docker Compose** - Orquestra√ß√£o de containers

## üìÅ Estrutura do Projeto

```
src/
‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ businessbrasil/
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ api/
‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ api_cadastro_usuarios/
‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ controller/           # REST Controllers (MVC)
‚îÇ   ‚îÇ                   ‚îÇ   ‚îî‚îÄ‚îÄ UserController.java
‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ service/              # Application Layer (MVC)
‚îÇ   ‚îÇ                   ‚îÇ   ‚îú‚îÄ‚îÄ UserService.java
‚îÇ   ‚îÇ                   ‚îÇ   ‚îú‚îÄ‚îÄ dto/             # Data Transfer Objects
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CreateUserRequest.java
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UpdateUserRequest.java
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ UserResponse.java
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserSearchRequest.java
‚îÇ   ‚îÇ                   ‚îÇ   ‚îî‚îÄ‚îÄ validator/       # Service Validators
‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ domain/               # Domain Layer (DDD)
‚îÇ   ‚îÇ                   ‚îÇ   ‚îú‚îÄ‚îÄ _shared/         # Shared Domain Components
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exception/   # Domain Exceptions
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ domain_exception/
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ service_exception/
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ global_Exception/
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ validator/   # Notification Pattern
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Notification.java
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ Validator.java
‚îÇ   ‚îÇ                   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ Validate.java
‚îÇ   ‚îÇ                   ‚îÇ   ‚îî‚îÄ‚îÄ user/            # User Aggregate
‚îÇ   ‚îÇ                   ‚îÇ       ‚îú‚îÄ‚îÄ User.java    # Entity + Factory Methods
‚îÇ   ‚îÇ                   ‚îÇ       ‚îî‚îÄ‚îÄ user_validator/
‚îÇ   ‚îÇ                   ‚îÇ           ‚îî‚îÄ‚îÄ UserValidator.java
‚îÇ   ‚îÇ                   ‚îú‚îÄ‚îÄ repository/           # Infrastructure Layer
‚îÇ   ‚îÇ                   ‚îÇ   ‚îî‚îÄ‚îÄ UserRepository.java
‚îÇ   ‚îÇ                   ‚îî‚îÄ‚îÄ ApiApplication.java
‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ       ‚îú‚îÄ‚îÄ application.yml
‚îÇ       ‚îú‚îÄ‚îÄ application-dev.yml
‚îÇ       ‚îú‚îÄ‚îÄ application-test.yml
‚îÇ       ‚îú‚îÄ‚îÄ application-prod.yml
‚îÇ       ‚îî‚îÄ‚îÄ db/migration/              # Flyway migrations
‚îÇ           ‚îú‚îÄ‚îÄ V1__Create_users_table.sql
‚îÇ           ‚îî‚îÄ‚îÄ V2__Insert_sample_users.sql
‚îî‚îÄ‚îÄ test/
    ‚îî‚îÄ‚îÄ java/
        ‚îî‚îÄ‚îÄ com/businessbrasil/api/api_cadastro_usuarios/
            ‚îú‚îÄ‚îÄ controller/
            ‚îÇ   ‚îî‚îÄ‚îÄ UserControllerTest.java
            ‚îú‚îÄ‚îÄ service/
            ‚îÇ   ‚îú‚îÄ‚îÄ UserServiceTest.java
            ‚îÇ   ‚îî‚îÄ‚îÄ validator/
            ‚îî‚îÄ‚îÄ domain/
                ‚îî‚îÄ‚îÄ user/
                    ‚îî‚îÄ‚îÄ user_validator/
                        ‚îî‚îÄ‚îÄ UserValidatorTest.java
```

## üóÑÔ∏è Banco de Dados

### H2 Database

O **H2** foi escolhido por ser um banco relacional em mem√≥ria que simula perfeitamente um banco real, oferecendo:

- **SQL padr√£o** - Compat√≠vel com PostgreSQL, MySQL, etc.
- **Interface web** - Console administrativo integrado
- **Performance** - Extremamente r√°pido para desenvolvimento e testes
- **Zero configura√ß√£o** - Funciona out-of-the-box

### Estrutura da Tabela

```sql
CREATE TABLE users (
    id UUID PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP,
    deleted_at TIMESTAMP
);

-- √çndices para otimiza√ß√£o
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_active ON users(is_active);
CREATE INDEX idx_users_created_at ON users(created_at);
```

### Campos da Entidade

| Campo | Tipo | Descri√ß√£o |
|-------|------|-----------|
| `id` | UUID | Identificador √∫nico (gerado automaticamente) |
| `name` | String | Nome do usu√°rio (obrigat√≥rio) |
| `email` | String | Email √∫nico (obrigat√≥rio e validado) |
| `is_active` | Boolean | Status ativo/inativo (soft delete) |
| `created_at` | Instant | Data de cria√ß√£o (auditoria) |
| `updated_at` | Instant | Data da √∫ltima atualiza√ß√£o |
| `deleted_at` | Instant | Data de exclus√£o l√≥gica |

> **Nota:** Palavras reservadas como `user` s√£o evitadas usando `users` como nome da tabela.

## üîó Endpoints

### Base URL
```
http://localhost:8081/users
```

### Endpoints Dispon√≠veis

| M√©todo | Endpoint | Descri√ß√£o |
|--------|----------|-----------|
| `POST` | `/users` | Criar novo usu√°rio |
| `GET` | `/users` | Listar usu√°rios (paginado) |
| `GET` | `/users/{id}` | Buscar usu√°rio por ID |
| `PUT` | `/users/{id}` | Atualizar usu√°rio |
| `DELETE` | `/users/{id}` | Excluir usu√°rio (soft delete) |
| `POST` | `/users/search` | Busca avan√ßada com filtros |

### Exemplos de Uso

#### Criar Usu√°rio
```bash
curl -X POST http://localhost:8081/users \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Jo√£o Silva",
    "email": "joao@email.com"
  }'
```

#### Listar Usu√°rios
```bash
curl -X GET "http://localhost:8081/users?page=0&size=10"
```

#### Buscar por ID
```bash
curl -X GET http://localhost:8081/users/{uuid}
```

#### Busca Avan√ßada
```bash
curl -X POST http://localhost:8081/users/search \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Jo√£o",
    "email": "joao",
    "page": 0,
    "size": 10,
    "sortBy": "name",
    "sortDirection": "asc"
  }'
```

## ‚ö†Ô∏è Tratamento de Erros

### Padr√£o Notification

O projeto implementa o **padr√£o Notification** para agrega√ß√£o de m√∫ltiplos erros de valida√ß√£o:

```java
// Exemplo de uso
Notification notification = Notification.create();
notification.addError("name", "Nome √© obrigat√≥rio");
notification.addError("email", "Email inv√°lido");

if (notification.hasErrors()) {
    throw UserDomainException.create(notification);
}
```

### Hierarquia de Exce√ß√µes

```
Exception
‚îú‚îÄ‚îÄ DomainException
‚îÇ   ‚îú‚îÄ‚îÄ UserDomainException
‚îÇ   ‚îî‚îÄ‚îÄ ValidationException
‚îú‚îÄ‚îÄ ServiceException
‚îÇ   ‚îú‚îÄ‚îÄ UserCreatedNotFoundException
‚îÇ   ‚îî‚îÄ‚îÄ UserServiceException
‚îî‚îÄ‚îÄ GlobalExceptionHandler
    ‚îú‚îÄ‚îÄ handleDomainException()
    ‚îú‚îÄ‚îÄ handleServiceException()
    ‚îî‚îÄ‚îÄ handleGenericException()
```

### Tipos de Erro

#### **1. Erros de Dom√≠nio (400 - Bad Request)**
```json
{
  "timestamp": "2025-09-30T17:30:00Z",
  "status": 400,
  "error": "Domain Validation Error",
  "message": "name: Nome √© obrigat√≥rio, email: Email inv√°lido",
  "errors": [
    "name: Nome √© obrigat√≥rio",
    "email: Email inv√°lido"
  ],
  "path": "/users"
}
```

#### **2. Erros de Servi√ßo (404 - Not Found)**
```json
{
  "timestamp": "2025-09-30T17:30:00Z",
  "status": 404,
  "error": "User Not Found",
  "message": "Usu√°rio n√£o encontrado",
  "path": "/users/123e4567-e89b-12d3-a456-426614174000"
}
```

#### **3. Erros de Valida√ß√£o (400 - Bad Request)**
```json
{
  "timestamp": "2025-09-30T17:30:00Z",
  "status": 400,
  "error": "Validation Error",
  "message": "name: Nome deve ter pelo menos 2 caracteres",
  "errors": [
    "name: Nome deve ter pelo menos 2 caracteres"
  ],
  "path": "/users"
}
```

#### **4. Erros Internos (500 - Internal Server Error)**
```json
{
  "timestamp": "2025-09-30T17:30:00Z",
  "status": 500,
  "error": "Internal Server Error",
  "message": "Ocorreu um erro interno no servidor",
  "path": "/users"
}
```

### Valida√ß√µes Implementadas

#### **Entidade User:**
- ‚úÖ Nome obrigat√≥rio (2-255 caracteres)
- ‚úÖ Email obrigat√≥rio e formato v√°lido
- ‚úÖ Email √∫nico no sistema
- ‚úÖ Valida√ß√£o com regex customizada

#### **Service Layer:**
- ‚úÖ Verifica√ß√£o de usu√°rio existente
- ‚úÖ Valida√ß√£o de dados de entrada
- ‚úÖ Controle de transa√ß√µes

#### **Controller Layer:**
- ‚úÖ Valida√ß√£o de par√¢metros de URL
- ‚úÖ Valida√ß√£o de corpo da requisi√ß√£o
- ‚úÖ Tratamento de exce√ß√µes centralizado

## üöÄ Instala√ß√£o e Execu√ß√£o

### Pr√©-requisitos

- **Java 17+**
- **Maven 3.6+**
- **Docker** (opcional)

### Execu√ß√£o Local

1. **Clone o reposit√≥rio**
```bash
git clone https://github.com/seu-usuario/api-cadastro-usuarios.git
cd api-cadastro-usuarios
```

2. **Configure as vari√°veis de ambiente**
```bash
cp .env.example .env
# Edite o arquivo .env com suas configura√ß√µes
```

3. **Execute a aplica√ß√£o**
```bash
mvn spring-boot:run
```

4. **Acesse a aplica√ß√£o**
- API: http://localhost:8080
- H2 Console: http://localhost:8080/h2-console

### Execu√ß√£o com Docker

```bash
# Build e execu√ß√£o
docker-compose up --build

# Ou apenas execu√ß√£o
docker-compose up
```

## üê≥ Docker

### Dockerfile
```dockerfile
FROM openjdk:17-jdk-slim
COPY target/api-cadastro-usuarios-*.jar app.jar
EXPOSE 8080
ENTRYPOINT ["java", "-jar", "/app.jar"]
```

### Docker Compose
```yaml
version: '3.8'
services:
  api:
    build: .
    ports:
      - "8080:8080"
    environment:
      - SPRING_PROFILES_ACTIVE=docker
```

## üß™ Testes

### Executar Testes

```bash
# Todos os testes
mvn test

# Testes com coverage
mvn test jacoco:report

# Testes de integra√ß√£o
mvn verify
```

### Estrutura de Testes

- **Unit Tests** - Testam componentes isoladamente
- **Integration Tests** - Testam fluxos completos
- **Controller Tests** - Testam endpoints REST
- **Domain Tests** - Testam valida√ß√µes de dom√≠nio
- **Service Tests** - Testam l√≥gica de neg√≥cio

### Cobertura de Testes

- ‚úÖ **35 testes** implementados
- ‚úÖ **97% de sucesso** (34/35 passando)
- ‚úÖ **Cobertura de dom√≠nio** completa
- ‚úÖ **Testes de integra√ß√£o** funcionais

### Tipos de Teste

#### **1. Testes de Dom√≠nio**
```java
@Test
void create_ShouldReturnUser_WhenValidData() {
    User user = User.create("Jo√£o Silva", "joao@email.com");
    assertThat(user.getName()).isEqualTo("Jo√£o Silva");
    assertThat(user.getEmail()).isEqualTo("joao@email.com");
}
```

#### **2. Testes de Servi√ßo**
```java
@Test
void createUser_ShouldReturnUserResponse_WhenValidRequest() {
    CreateUserRequest request = new CreateUserRequest("Jo√£o", "joao@email.com");
    UserResponse response = userService.createUser(request);
    assertThat(response.getName()).isEqualTo("Jo√£o");
}
```

#### **3. Testes de Controller**
```java
@Test
void createUser_ShouldReturn201_WhenValidData() throws Exception {
    mockMvc.perform(post("/users")
        .contentType(MediaType.APPLICATION_JSON)
        .content(createUserJson))
        .andExpect(status().isCreated());
}
```

## üìö Documenta√ß√£o da API

### Swagger/OpenAPI

A documenta√ß√£o interativa est√° dispon√≠vel em:
- **Swagger UI**: http://localhost:8081/swagger-ui.html
- **OpenAPI JSON**: http://localhost:8081/v3/api-docs

### Padr√£o de Respostas

#### Sucesso - Criar Usu√°rio (201)
```json
{
  "id": "550e8400-e29b-41d4-a716-446655440001",
  "name": "Jo√£o Silva",
  "email": "joao@email.com",
  "isActive": true,
  "createdAt": "2025-09-30T17:30:00Z",
  "updatedAt": "2025-09-30T17:30:00Z",
  "deletedAt": null
}
```

#### Sucesso - Listar Usu√°rios (200)
```json
{
  "content": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440001",
      "name": "Jo√£o Silva",
      "email": "joao@email.com",
      "isActive": true,
      "createdAt": "2025-09-30T17:30:00Z",
      "updatedAt": "2025-09-30T17:30:00Z",
      "deletedAt": null
    }
  ],
  "pageable": {
    "pageNumber": 0,
    "pageSize": 10
  },
  "totalElements": 1,
  "totalPages": 1,
  "first": true,
  "last": true
}
```

## üìä Diagramas

### Diagrama de Arquitetura H√≠brida MVC + DDD

```mermaid
graph TB
    subgraph "Presentation Layer (MVC)"
        C[UserController]
        DTO[DTOs]
    end
    
    subgraph "Application Layer (MVC)"
        S[UserService]
        SV[Service Validators]
    end
    
    subgraph "Domain Layer (DDD)"
        U[User Entity]
        UV[UserValidator]
        N[Notification]
        DE[Domain Exceptions]
    end
    
    subgraph "Infrastructure Layer (MVC)"
        R[UserRepository]
        DB[(H2 Database)]
    end
    
    C --> S
    S --> SV
    S --> U
    S --> R
    U --> UV
    U --> N
    U --> DE
    R --> DB
    C --> DTO
```

### Diagrama de Sequ√™ncia - Criar Usu√°rio

```mermaid
sequenceDiagram
    participant Client
    participant Controller
    participant Service
    participant Domain
    participant Repository
    participant Database
    
    Client->>Controller: POST /users
    Controller->>Service: createUser(request)
    Service->>Service: validateRequest(request)
    Service->>Domain: User.create(name, email)
    Domain->>Domain: validate()
    Domain->>Domain: UserValidator.validate()
    Domain-->>Service: User entity
    Service->>Repository: save(user)
    Repository->>Database: INSERT INTO users
    Database-->>Repository: User saved
    Repository-->>Service: User entity
    Service-->>Controller: UserResponse
    Controller-->>Client: 201 Created
```

### Diagrama de Classes - Domain Layer

```mermaid
classDiagram
    class User {
        -UUID id
        -String name
        -String email
        -Boolean isActive
        -Instant createdAt
        -Instant updatedAt
        -Instant deletedAt
        +create(String, String)$
        +update(String, String)
        +activate()
        +deactivate()
        -validate()
    }
    
    class UserValidator {
        +validate(User)$
        -validateName(String)
        -validateEmail(String)
    }
    
    class Notification {
        -List~String~ errors
        +addError(String)
        +addError(String, String)
        +hasErrors()
        +getErrorsAsString()
    }
    
    class UserDomainException {
        +create(Notification)$
        +create(String)$
    }
    
    User --> UserValidator
    UserValidator --> Notification
    User --> UserDomainException
```

### Diagrama de Fluxo de Valida√ß√£o

```mermaid
flowchart TD
    A[Request] --> B[Controller Validation]
    B --> C[Service Validation]
    C --> D[Domain Validation]
    D --> E{Has Errors?}
    E -->|Yes| F[Notification Pattern]
    F --> G[Domain Exception]
    G --> H[Global Exception Handler]
    H --> I[Error Response]
    E -->|No| J[Create User]
    J --> K[Save to Database]
    K --> L[Success Response]
```

## üéØ Crit√©rios de Avalia√ß√£o

| Crit√©rio | Peso | Status |
|----------|------|--------|
| **L√≥gica e funcionamento** | 40% | ‚úÖ Implementado |
| **Clareza e organiza√ß√£o do c√≥digo** | 30% | ‚úÖ Implementado |
| **Uso correto de rotas REST** | 15% | ‚úÖ Implementado |
| **Instru√ß√µes claras de execu√ß√£o** | 10% | ‚úÖ Implementado |
| **Extras (valida√ß√µes, testes)** | 5% | ‚úÖ Implementado |

## üîß Configura√ß√µes

### Vari√°veis de Ambiente (.env)

```env
# Database
DB_URL=jdbc:h2:mem:devdb
DB_USERNAME=sa
DB_PASSWORD=

# Server
SERVER_PORT=8081

# Logging
LOG_LEVEL=INFO
LOG_FILE=logs/api-cadastro-usuarios.log

# Environment
SPRING_PROFILES_ACTIVE=dev
```

## üìà Pr√≥ximos Passos

Para escalar a aplica√ß√£o, considere:

- **Cache** (Redis) para consultas frequentes
- **Banco distribu√≠do** (PostgreSQL/MySQL) com replica√ß√£o
- **Message Queue** (RabbitMQ/Kafka) para processamento ass√≠ncrono
- **API Gateway** para rate limiting e autentica√ß√£o
- **Monitoring** (Prometheus + Grafana)
- **Logs centralizados** (ELK Stack)
- **CI/CD Pipeline** com GitHub Actions

## üîÑ Git Workflow

Este projeto utiliza **GitFlow** como estrat√©gia de branching e **Commits Sem√¢nticos** para padroniza√ß√£o:

### GitFlow
- **main** - Branch principal com c√≥digo em produ√ß√£o
- **develop** - Branch de desenvolvimento
- **feature/** - Novas funcionalidades
- **hotfix/** - Corre√ß√µes urgentes
- **release/** - Prepara√ß√£o para releases

### Commits Sem√¢nticos
```
feat: adiciona endpoint para criar usu√°rio
fix: corrige valida√ß√£o de email
docs: atualiza documenta√ß√£o da API
test: adiciona testes para UserService
refactor: melhora estrutura do UserController
```

### Versionamento Sem√¢ntico
Seguimos o padr√£o **SemVer** (Semantic Versioning):
- **MAJOR** - Mudan√ßas incompat√≠veis
- **MINOR** - Novas funcionalidades compat√≠veis
- **PATCH** - Corre√ß√µes de bugs

Exemplo: `v1.2.3` ‚Üí `v1.3.0` (nova feature)

## üë• Contribui√ß√£o

1. Fork o projeto
2. Crie uma branch seguindo o GitFlow (`git checkout -b feature/nova-funcionalidade`)
3. Fa√ßa commits sem√¢nticos (`git commit -m 'feat: adiciona valida√ß√£o de CPF'`)
4. Push para a branch (`git push origin feature/nova-funcionalidade`)
5. Abra um Pull Request seguindo o template

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

## üìû Contato

**Grupo Business Brasil**
- üìß Email: rh@grupobusinessbrasil.com.br
- üì± Telefone: 11 99524-0071
- üè¢ Endere√ßo: Rua Dr. Renato Paes de Barros, 618 ‚Äì Conj. 01 ‚Äì Itaim Bibi ‚Äì S√£o Paulo/SP

---

<div align="center">
  <p>Desenvolvido com ‚ù§Ô∏è por <strong>Alex Caje Felix</strong> para o processo seletivo do <strong>Grupo Business Brasil</strong></p>
  <p>¬© 2025 - Todos os direitos reservados</p>
</div>
